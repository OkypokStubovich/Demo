#include <iostream>
#include <cmath>

using namespace std;

// Функция для вычисления суммы ряда 
double calculateSeriesSum(int n) {
    if (n < 1) return 0;
    
    double sum = 0.0;
    double term = -1.0; // Первый член ряда (k=1): (-1)^1/(1!)^2 = -1/1 = -1
    
    for (int k = 1; k <= n; k++) {
        sum += term;
        // Рекуррентное соотношение для следующего члена:
        term = -term / ((k+1)*(k+1));
    }
    
    return sum;
}

// Функция для вычисления суммы членов ряда, больших по модулю e
double calculateSumAboveEpsilon(double epsilon) {
    if (epsilon <= 0) return 0;
    
    double sum = 0.0;
    double term = -1.0; // Первый член
    int k = 1;
    
    while (fabs(term) >= epsilon) {
        sum += term;
        k++;
        term = -term / (k*k);
    }
    
    return sum;
}

int main() {
    int n;
    double epsilon;
    
    cout << "Введите количество членов ряда n: ";
    cin >> n;
    
    cout << "Введите точность epsilon: ";
    cin >> epsilon;
    
    if (n < 1 || epsilon <= 0) {
        cout << "Ошибка ввода данных!" << endl;
        return 1;
    }
    
    cout << "Сумма первых " << n << " членов: " << calculateSeriesSum(n) << endl;
    cout << "Сумма членов с |a_k| >= " << epsilon << ": " << calculateSumAboveEpsilon(epsilon) << endl;
    
    return 0;
}
